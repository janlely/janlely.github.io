## 什么是跨域

* **同源策略：** 这是浏览器的一种安全策略，要求执行在网页中的脚本只能访问来自同一源的资源。
* **跨源请求：** 当一个网页尝试请求另一个源（例如，不同的域名、协议或端口）的资源时，这种请求被视为跨源请求。

## 一个疑问

使用除浏览器之外的其他http客户端都没有跨域问题，为什么浏览器要设置跨域请求的限制呢？

因为浏览器自动保存了用户的cookie也就是会话信息，并且在请求对应的域名时会自动携带cookie。而使用其他的http工具，需要你手动设置cookie。

如果不设置跨域，你点开一个钓鱼网站，其脚本中调用了银行转账请求，如果你此时已经有会话存在，浏览器会自动携带cookie，从而导致转账请求成功执行。

## 没有同源策略会产生什么安全问题

* **CSRF攻击：** 
恶意网站可以在用户不知情的情况下，利用用户的登录状态向其他网站发送请求。例如，如果用户登录了银行网站，并在不退出的情况下访问了另一个恶意网站，恶意网站可以发起转账请求，导致资金损失。

* **数据泄露：**
在没有同源策略的情况下，任何网站的脚本都能访问其他网站的数据，包括敏感信息如用户个人信息、密码等。例如，一个恶意网站可以通过脚本从另一个网站获取用户信息，从而侵犯用户隐私。

* **会话劫持：**
恶意网站可以通过脚本访问其他网站的 cookie 和 session 数据，然后利用这些信息来冒充用户，从而进行未授权的操作。这种攻击可以让攻击者完全控制用户的账号。

* **DOM篡改：**
如果一个网页可以自由访问另一个网页的 DOM，那么它可能会修改其他网页的内容，插入恶意脚本或广告，甚至重定向到钓鱼网站。

* **网络钓鱼和欺诈：**
通过自由访问和修改其他网站的 DOM，恶意网站可以伪装成合法网站，误导用户输入敏感信息，如登录凭证、信用卡号等。

* **端口扫描：**
如果网页脚本可以自由地发起对本地网络或服务的请求，恶意脚本可以利用这一点对内网进行扫描，探测内网的结构和服务，为进一步的攻击做准备。


